<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Video Preview with Filename Input</title>
</head>
<body>
  <p>File upload</p>
  <form method="POST" action="https://f88b9f30-9a6f-42b6-8fd4-50be88199c80-00-3ccttq59d6xi9.janeway.replit.dev/upload" enctype="multipart/form-data">
    <label for="fileName">Enter Filename: </label>
    <input type="text" name="fileName" id="fileName" placeholder="Enter a descriptive filename">
    <br>
    <label for="videoInput">Select a Video:</label>
    <input type="file" name="video" id="videoInput" accept="video/*">
    <br>
    <video id="videoPreview" controls></video>
    <button type="submit">Upload</button> </form>

  <script>
    const videoInput = document.getElementById('videoInput');
    const videoPreview = document.getElementById('videoPreview');

    videoInput.onchange = function(e) {
      const file = e.target.files[0];
      if (file.type.startsWith('video/')) {
        const videoUrl = URL.createObjectURL(file);
        videoPreview.src = videoUrl;
      } else {
        alert('Please select a video file');
        videoPreview.src = ""; // Clear any previous preview if non-video file selected
      }
    };
  </script>